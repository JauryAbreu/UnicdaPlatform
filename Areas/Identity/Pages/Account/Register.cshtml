@page
@model RegisterModel
@{
    ViewData["Title"] = "Register";
    Layout = null;
}
<!DOCTYPE html>
<html lang="es">
<head>
    <!-- <link href="img/ico.png" rel="icon" type="image/x-icon"> -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Offshore Banking System</title>
    <link rel="stylesheet" href="~/css/bootstrap.min.css">
    <script src="~/js/bootstrap.min.js"></script>
    <link href="~/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
</head>
<body>


    <section class="col-lg-12 col-md-12 col-sm-12 col-xs-12 head-general">
        <div class="container">
            <h1>Registration</h1>
        </div>
    </section>

    <section class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="container">
            <div class="col-lg-5 col-md-12 col-sm-12 col-xs-12 offset-lg-1 sign-in espacio">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 head"><p>Create account</p></div>
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 formulario">
                    <form asp-route-returnUrl="@Model.ReturnUrl" method="post">
                        

                        
                        <div class="form-group">
                            <input asp-for="Input.Email" type="email" placeholder="Email" class="form-control campos" id="" autocomplete="off" required>
                            <span asp-validation-for="Input.Email" class="text-danger"></span>
                        </div>
                        <div class="row espacio">
                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 form-group espacio-left">
                                <input asp-for="Input.Password" type="password" placeholder="Password" class="form-control campos" id="" autocomplete="off" required>
                                <span asp-validation-for="Input.Password" class="text-danger"></span>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12 form-group espacio-right">
                                <input asp-for="Input.ConfirmPassword" type="password" placeholder="Validate Password" class="form-control campos" id="" autocomplete="off" required>
                                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="form-group">
                            <span asp-validation-for="ErrorMessage" class="text-danger"></span>
                            <button type="submit" class="btn btn-grande blue-dark" role="button" aria-pressed="true">Sign In</button>
                            @*<a href="Index.html" class="btn btn-grande blue-dark" role="button" aria-pressed="true">Sign in</a>*@
                        </div>


                        <div class="row espacio">
                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 espacio">
                                <p class="text-center">Already have an account? <p class="text-center">
                                    <a asp-page="./Login" class="text-sign" asp-route-returnUrl="@Model.ReturnUrl">Login In</a>
                                </p>
                                @*<p class="text-center">Already have an account?  <a class="text-sign" href="#"><u>LOGIN</u></a></p>*@
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        @section Scripts {
            <partial name="_ValidationScriptsPartial" />
        }
    </section>

    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="~/js/bootstrap.min.js"></script>
    <script type="text/javascript"></script>
    <script>
        $(function() {
            $("#CountryId").change(function ()
            {
                var type = 'GET';
                var url = '/Identity/Account/Register';
                var countryId = $('#CountryId').val();
                var data = { "CountryId": countryId, "handler": "Cities" };
                var o = Object.keys(data).map(k => k + "=" + encodeURIComponent(data[k])).join("&")
                var city = $('#StateId');
                var request = new XMLHttpRequest();
                request.open('get', url + "?" + o);

                request.onload = function () {
                    if (this.status >= 200 && this.status < 400) {
                        var jsonData = JSON.parse(this.response);
                        if (jsonData !== null) {
                            city.empty();
                            $.each(jsonData, function (index, htmlData) {
                                city.append($('<option />', {
                                    value: htmlData.value,
                                    text: htmlData.text
                                }));
                                
                        console.log(htmlData.text);
                            });
                        }
                        console.log("success");
                    } else {
                        console.log("error");
                    }
                };
                request.onerror = function () {
                    // There was a connection error of some sort
                };
                request.send();
            })
        });
    </script>

</body>
</html>

